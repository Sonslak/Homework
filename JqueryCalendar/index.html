<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Javascript Calendar</title>
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Open Sans" />
    <style type="text/css">
        body {
            font-family: 'Open Sans', serif;
            font-size: 12px;
        }

        div.container {
            text-align: center;
        }

        div.buttons {
            width: 25%;
            margin-left: auto;
            margin-right: auto;
        }

            div.buttons div#current-date {
                width: 50%;
                float: left;
                padding-bottom: 3px;
            }

            div.buttons a#next {
                width: 25%;
                float: left;
                padding-bottom: 3px;
                text-align: right;
            }

            div.buttons a#prev {
                width: 25%;
                padding-bottom: 3px;
                float: left;
                text-align: left;
            }

        .calendar td.today {
            background-color: #005fbf;
            color: white;
            font-weight: 200;
        }

        .calendar td.other-days {
            background-color: #CDCCE0;
            font-weight: 200;
            cursor: pointer;
            cursor: hand;
        }

        .calendar-container {
            margin: 0px;
            padding: 0px;
            width: 25%;
            box-shadow: 10px 10px 5px #888888;
            border: 1px solid #000000;
            -moz-border-radius-bottomleft: 3px;
            -webkit-border-bottom-left-radius: 3px;
            border-bottom-left-radius: 3px;
            -moz-border-radius-bottomright: 3px;
            -webkit-border-bottom-right-radius: 3px;
            border-bottom-right-radius: 3px;
            -moz-border-radius-topright: 3px;
            -webkit-border-top-right-radius: 3px;
            border-top-right-radius: 3px;
            -moz-border-radius-topleft: 3px;
            -webkit-border-top-left-radius: 3px;
            border-top-left-radius: 3px;
            margin-left: auto;
            margin-right: auto;
        }

            .calendar-container table {
                border-collapse: collapse;
                border-spacing: 0;
                width: 100%;
                height: 100%;
                margin: 0px;
                padding: 0px;
            }

            .calendar-container tr:last-child td:last-child {
                -moz-border-radius-bottomright: 3px;
                -webkit-border-bottom-right-radius: 3px;
                border-bottom-right-radius: 3px;
            }

            .calendar-container table tr:first-child td:first-child {
                -moz-border-radius-topleft: 3px;
                -webkit-border-top-left-radius: 3px;
                border-top-left-radius: 3px;
            }

            .calendar-container table tr:first-child td:last-child {
                -moz-border-radius-topright: 3px;
                -webkit-border-top-right-radius: 3px;
                border-top-right-radius: 3px;
            }

            .calendar-container tr:last-child td:first-child {
                -moz-border-radius-bottomleft: 3px;
                -webkit-border-bottom-left-radius: 3px;
                border-bottom-left-radius: 3px;
            }

            .calendar-container tr:hover td {
                /*background-color: #ffffff;*/
            }

            .calendar-container td {
                vertical-align: middle;
                background-color: #ffffff;
                border: 1px solid #000000;
                border-width: 0px 1px 1px 0px;
                text-align: center;
                padding: 7px;
                color: #000000;
            }

            .calendar-container tr:last-child td {
                border-width: 0px 1px 0px 0px;
            }

            .calendar-container tr td:last-child {
                border-width: 0px 0px 1px 0px;
            }

            .calendar-container tr:last-child td:last-child {
                border-width: 0px 0px 0px 0px;
            }

            .calendar-container tr:first-child td {
                background: -o-linear-gradient(bottom, #005fbf 5%, #003f7f 100%);
                background: -webkit-gradient( linear, left top, left bottom, color-stop(0.05, #005fbf), color-stop(1, #003f7f) );
                background: -moz-linear-gradient( center top, #005fbf 5%, #003f7f 100% );
                filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#005fbf", endColorstr="#003f7f");
                background: -o-linear-gradient(top,#005fbf,003f7f);
                background-color: #005fbf;
                border: 0px solid #000000;
                text-align: center;
                border-width: 0px 0px 1px 1px;
                color: #ffffff;
            }

                .calendar-container tr:first-child td:first-child {
                    border-width: 0px 0px 1px 0px;
                }

                .calendar-container tr:first-child td:last-child {
                    border-width: 0px 0px 1px 1px;
                }
    </style>
</head>
<body>
    <div class="container">
        <h1>Javascript Calendar</h1>
        <div class="buttons">
            <a href="#" id="prev" data-date=""><< Prev</a>
            <div id="current-date"></div>
            <a href="#" id="next" data-date="">Next >></a>
        </div>
        <div style="clear:both"></div>
        <div class="calendar-container">
            <table id="calendar" class="calendar"></table>
        </div>
    </div>
</body>
</html>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>

<script>

    $(document).ready(function () {
        var cal = new Calendar();
        cal.renderCalendar(new Date());

        $("#next").on("click", function () { cal.showNextMonth(event); });
        $("#prev").on("click", function () { cal.showPrevMonth(event); });

        $('#calendar').on('click', '.other-days', function () { cal.showDate($(this).attr('data-date')); });
    });


    function Calendar() {
        var base = this;
        var nextBtn = $("#next");
        var prevBtn = $("#prev");

        base.renderCalendar = function (today) {
            // variables
            var daysInMonth = new Date(today.getFullYear(), today.getMonth() + 1, 0).getDate()
            var currentDate = new Date();
            var weeks = [];
            var day = 1;

            // first day of the month
            var firstDay = new Date(today);
            firstDay.setDate(1);
            var firstDow = firstDay.getDay() - 1;

            // last day of month
            var lastDay = new Date(today);
            lastDay.setDate(daysInMonth);

            // set current date
            $("#current-date").html(base.getMonthName(today.getMonth()) + " " + today.getFullYear());

            // header
            calendarHtml = "<tr><td>Mon</td><td>Tue</td><td>Wed</td><td>Thu</td><td>Fri</td><td>Sat</td><td>Sun</td></tr>";

            // weeks
            for (week = 0; week < 6; week++) {
                calendarHtml += "<tr>";
                // days
                for (dow = 0; dow < 7; dow++) {
                    if (week == 0 && dow < firstDow) {
                        var d = new Date(firstDay);
                        d.setDate(d.getDate() - (firstDow - dow));
                        calendarHtml += "<td class='other-days' data-date=" + $.datepicker.formatDate('dd/mm/yy', d) + ">" + d.getDate() + "</td>";
                    }
                    else if (day > daysInMonth) {
                        var d = new Date(lastDay);
                        d.setDate(d.getDate() + (day - daysInMonth));
                        calendarHtml += "<td class='other-days' data-date=" + $.datepicker.formatDate('dd/mm/yy', d) + ">" + d.getDate() + "</td>";
                        day++;
                    }
                    else {
                        if (day == today.getDate() && currentDate.getMonth() == today.getMonth() && currentDate.getYear() == today.getYear()) {
                            // display the date for this cell
                            calendarHtml += "<td class='today'>" + day + "</td>";
                        }
                        else {
                            // display the date for this cell
                            calendarHtml += "<td>" + day + "</td>";
                        }
                        // increment day counter
                        day++;
                    }
                }

                calendarHtml += "</tr>"

                // end of row; determine if more rows needed
                if (day > daysInMonth) { week = 6; }
            }

            $("#calendar").html(calendarHtml);


            // set next month
            var nextMonth = new Date(today);
            nextMonth.setMonth(nextMonth.getMonth() + 1);
            nextBtn.attr('data-date', $.datepicker.formatDate('dd/mm/yy', nextMonth));

            // set prev month
            var prevMonth = new Date(today);
            prevMonth.setMonth(prevMonth.getMonth() - 1);
            prevBtn.attr('data-date', $.datepicker.formatDate('dd/mm/yy', prevMonth));
        };


        base.getMonthName = function (month) {
            var months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
            return months[month];
        }

        base.log = function (message) {
            console.log(message);
        };

        // events
        base.showDate = function (date) {
            //event.preventDefault();
            base.renderCalendar($.datepicker.parseDate('dd/mm/yy', date));
        };



        base.showNextMonth = function (event) {
            event.preventDefault();
            base.renderCalendar($.datepicker.parseDate('dd/mm/yy', nextBtn.attr('data-date')));
        };

        base.showPrevMonth = function (event) {
            event.preventDefault();
            base.renderCalendar($.datepicker.parseDate('dd/mm/yy', prevBtn.attr('data-date')));
        };


    }

</script>
